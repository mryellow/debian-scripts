# TODO: Implement seed coverages from http://apps.dnrm.qld.gov.au/property/topokey/topokey.htm

services:
  wms:
    image_formats: ['image/png', 'image/jpeg', 'image/gif', 'image/tiff']
    #srs: ['EPSG:3857', 'EPSG:4283']
    on_source_errors: raise
    md:
      title: Australian Maps
      abstract: Collection of Australian Digital Maps.

layers:
  # DEM
  # FIXME: `calculate_bbox` error with GDA94 grid `bbox`
#  - name: dem_lidar_5m
#    title: "[MP] DEM LiDAR 5m"
#    sources: [dem_lidar_5m_cache]
#  - name: dem_lidar_25m
#    title: "[MP] DEM LiDAR 25m"
#    sources: [dem_lidar_25m_cache]
  # NSW
  - name: nsw_topo1
    title: "[MP] NSW Topo (1)"
    sources: [nsw_topo1_cache]
  - name: nsw_topo3
    title: "[MP] NSW Topo (3)"
    sources: [nsw_topo3_cache]
  - name: nsw_imagery
    title: "[MP] NSW Imagery"
    sources: [nsw_imagery_cache]
  - name: nsw_cadastre
    title: "[MP] NSW Cadastre"
    layers:
      - name: data
        title: "[MP] NSW Cadastre Data"
        layers:
          - name: lot
            title: "[MP] NSW Cadastre - Lot"
            sources: [nsw_cadastre_lot_cache]
          - name: planextent
            title: "[MP] NSW Cadastre - PlanExtent"
            sources: [nsw_cadastre_planextent_cache]
          - name: sectionextent
            title: "[MP] NSW Cadastre - SectionExtent"
            sources: [nsw_cadastre_sectionextent_cache]
          - name: rural_planextent
            title: "[MP] NSW Cadastre - Rural PlanExtent"
            sources: [nsw_cadastre_rural_planextent_cache]
          - name: large_rural_planextent
            title: "[MP] NSW Cadastre - Large Rural PlanExtent"
            sources: [nsw_cadastre_large_rural_planextent_cache]
      - name: labels
        title: "[MP] NSW Cadastre Labels"
        layers:
          - name: lot_labels
            title: "[MP] NSW Cadastre - Lot Labels"
            sources: [nsw_cadastre_lot_labels_cache]
          - name: planextent_labels
            title: "[MP] NSW Cadastre - PlanExtent Labels"
            sources: [nsw_cadastre_planextent_labels_cache]
          - name: sectionextent_labels
            title: "[MP] NSW Cadastre - SectionExtent Labels"
            sources: [nsw_cadastre_sectionextent_labels_cache]
          - name: cadastre_labels
            title: "[MP] NSW Cadastre - Labels"
            sources: [nsw_cadastre_cadastre_labels_cache]
# FIXME: `calculate_bbox` error with GDA94 grid `bbox`
#  - name: nsw_fossicking
#    title: "[MP] NSW Fossicking Districts"
#    sources: [nsw_fossicking_cache]
#  - name: nsw_minerals
#    title: "[MP] NSW Mineral Occurances"
#    sources: [nsw_minerals_cache]
  # QLD
  - name: qld_topo
    title: "[MP] QLD Topo"
    sources: [qld_topo_cache]

caches:
#  dem_lidar_5m_cache:
#    grids: [gda94]
#    sources: [dem_lidar_5m]
#  dem_lidar_25m_cache:
#    grids: [gda94]
#    sources: [dem_lidar_25m]
  nsw_topo1_cache:
    grids: [webmercator]
    sources: [nsw_topo1]
  nsw_topo3_cache:
    grids: [webmercator]
    sources: [nsw_topo3]
  nsw_imagery_cache:
    grids: [webmercator]
    sources: [nsw_imagery]
  nsw_cadastre_lot_cache:
    grids: [webmercator]
    sources: [nsw_cadastre_lot]
  nsw_cadastre_lot_labels_cache:
    grids: [webmercator]
    sources: [nsw_cadastre_lot_labels]
  nsw_cadastre_planextent_cache:
    grids: [webmercator]
    sources: [nsw_cadastre_planextent]
  nsw_cadastre_planextent_labels_cache:
    grids: [webmercator]
    sources: [nsw_cadastre_planextent_labels]
  nsw_cadastre_sectionextent_cache:
    grids: [webmercator]
    sources: [nsw_cadastre_sectionextent]
  nsw_cadastre_sectionextent_labels_cache:
    grids: [webmercator]
    sources: [nsw_cadastre_sectionextent_labels]
  nsw_cadastre_rural_planextent_cache:
    grids: [webmercator]
    sources: [nsw_cadastre_rural_planextent]
  nsw_cadastre_large_rural_planextent_cache:
    grids: [webmercator]
    sources: [nsw_cadastre_large_rural_planextent]
  nsw_cadastre_cadastre_labels_cache:
    grids: [webmercator]
    sources: [nsw_cadastre_cadastre_labels]
  nsw_fossicking_cache:
    grids: [gda94]
    sources: [nsw_fossicking]
  nsw_minerals_cache:
    grids: [geodetic]
    sources: [nsw_minerals]
  qld_topo_cache:
    grids: [webmercator]
    sources: [qld_topo]

sources:
#  dem_lidar_5m:
#    type: wms
#    req:
#      url: http://services.ga.gov.au/site_9/services/DEM_LiDAR_5m/MapServer/WMSServer?
#      layers: Image
#    coverage:
#      bbox: [-45.949852,113.760233,-9.205568,162.000033]
#      srs: 'EPSG:4283' # GDA94
#  dem_lidar_25m:
#    type: wms
#    req:
#      url: http://services.ga.gov.au/site_9/services/DEM_LiDAR_25m/MapServer/WMSServer?
#      layers: Image
#    coverage:
#      bbox: [-43.996225,113.760232,-9.205591,156.780604]
#      srs: 'EPSG:4283' # GDA94
  nsw_topo1:
    type: tile
    url: http://maps.six.nsw.gov.au/arcgis/rest/services/sixmaps/LPITopoMap_S1/MapServer/tile/%(z)s/%(y)s/%(x)s
    transparent: true
    grid: webmercator
    coverage:
      bbox: [15696187.703100003,-4509781.353999994,17115491.703099996,-3264541.3539999984]
      srs: 'EPSG:3857'
  nsw_topo3:
    type: wms
    req:
      url: http://maps.six.nsw.gov.au/arcgis/services/public/NSW_Topo_Map/MapServer/WMSServer?
      layers: TopoCurrent
      transparent: true
    coverage:
      bbox: [15695967.944500,-4510200.751700,17728371.038500,-3264742.590100]
      srs: 'EPSG:3857'
  nsw_imagery:
    type: wms
    req:
      url: http://maps.six.nsw.gov.au/arcgis/services/public/NSW_Imagery/MapServer/WMSServer?
      layers: BestImageryDates
      transparent: true
    coverage:
      bbox: [15499750.634300,-4629153.206800,17732075.828300,-3074018.396000]
      srs: 'EPSG:3857'
  nsw_cadastre_lot:
    type: wms
    req:
      url: http://maps.six.nsw.gov.au/arcgis/services/public/NSW_Cadastre/MapServer/WMSServer?
      layers: Lot
      transparent: true
    coverage:
      bbox: [15695971.703500,-4500719.260500,17709213.067500,-3268784.951625]
      srs: 'EPSG:3857'
  nsw_cadastre_lot_labels:
    type: wms
    req:
      url: http://maps.six.nsw.gov.au/arcgis/services/public/NSW_Cadastre/MapServer/WMSServer?
      layers: Lot_Labels
      transparent: true
    coverage:
      bbox: [15695971.703500,-4500719.260500,17709213.067500,-3268784.951625]
      srs: 'EPSG:3857'
  nsw_cadastre_planextent:
    type: wms
    req:
      url: http://maps.six.nsw.gov.au/arcgis/services/public/NSW_Cadastre/MapServer/WMSServer?
      layers: PlanExtent
      transparent: true
    coverage:
      bbox: [15695971.703500,-4500719.260500,17709213.067500,-3268784.951625]
      srs: 'EPSG:3857'
  nsw_cadastre_planextent_labels:
    type: wms
    req:
      url: http://maps.six.nsw.gov.au/arcgis/services/public/NSW_Cadastre/MapServer/WMSServer?
      layers: PlanExtent_Labels
      transparent: true
    coverage:
      bbox: [15695971.703500,-4500719.260500,17709213.067500,-3268784.951625]
      srs: 'EPSG:3857'
  nsw_cadastre_sectionextent:
    type: wms
    req:
      url: http://maps.six.nsw.gov.au/arcgis/services/public/NSW_Cadastre/MapServer/WMSServer?
      layers: SectionExtent
      transparent: true
    coverage:
      bbox: [15695971.703500,-4500719.260500,17709213.067500,-3268784.951625]
      srs: 'EPSG:3857'
  nsw_cadastre_sectionextent_labels:
    type: wms
    req:
      url: http://maps.six.nsw.gov.au/arcgis/services/public/NSW_Cadastre/MapServer/WMSServer?
      layers: SectionExtent_Labels
      transparent: true
    coverage:
      bbox: [15695971.703500,-4500719.260500,17709213.067500,-3268784.951625]
      srs: 'EPSG:3857'
  nsw_cadastre_rural_planextent:
    type: wms
    req:
      url: http://maps.six.nsw.gov.au/arcgis/services/public/NSW_Cadastre/MapServer/WMSServer?
      layers: Rural_PlanExtent
      transparent: true
    coverage:
      bbox: [15695971.703500,-4500719.260500,17709213.067500,-3268784.951625]
      srs: 'EPSG:3857'
  nsw_cadastre_large_rural_planextent:
    type: wms
    req:
      url: http://maps.six.nsw.gov.au/arcgis/services/public/NSW_Cadastre/MapServer/WMSServer?
      layers: Large_Rural_PlanExtent
      transparent: true
    coverage:
      bbox: [15695971.703500,-4500719.260500,17709213.067500,-3268784.951625]
      srs: 'EPSG:3857'
  nsw_cadastre_cadastre_labels:
    type: wms
    req:
      url: http://maps.six.nsw.gov.au/arcgis/services/public/NSW_Cadastre/MapServer/WMSServer?
      layers: Cadastre_Labels
      transparent: true
    coverage:
      bbox: [15695971.703500,-4500719.260500,17709213.067500,-3268784.951625]
      srs: 'EPSG:3857'
  nsw_fossicking:
    type: wms
    req:
      url: https://spatial.industry.nsw.gov.au/arcgis/services/Minerals/Fossicking_Districts/MapServer/WMSServer?
      layers: 0
      transparent: true
    coverage:
      bbox: [-36.806092,141.155805,-28.633561,152.451955]
      srs: 'EPSG:4283'
  nsw_minerals:
    type: wms
    req:
      url: https://spatial.industry.nsw.gov.au/arcgis/services/Minerals/NSWMineralOccurrences/MapServer/WMSServer?
      layers: 0
      transparent: true
    coverage:
      bbox: [-37.390845,141.002352,-28.022663,153.630347]
      srs: 'EPSG:4326'
  qld_topo:
    type: wms
    req:
      url: https://gisservices.information.qld.gov.au/arcgis/services/Basemaps/QTopoBase_WebM/MapServer/WMSServer?
      layers: Queensland Topographic Map Cache
      transparent: true
    coverage:
      bbox: [-20037508.342787,-30242453.561785,20038726.558986,30240972.593302]
      srs: 'EPSG:3857'

grids:
  geodetic:
    base: GLOBAL_GEODETIC #4326
  webmercator:
    base: GLOBAL_WEBMERCATOR #3857
  gda94:
    srs: 'EPSG:4283'
    origin: nw
    bbox: [-45.0000,108.0000,-10.0000,155.0000]
    #bbox_srs: 'EPSG:4326'

globals:
  http:
    ssl_no_cert_checks: True
